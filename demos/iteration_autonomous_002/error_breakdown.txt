================================================================================
DEPLOYMENT ERROR BREAKDOWN - Visual Distribution
================================================================================

Total Errors: 414

Error Distribution by Category:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔴 P0 - BLOCKING (31.4%)
├─ Cross-Tenant Authorization: 130 ████████████████████████████████ 31.4%
│  └─ Private Endpoints: 43
│  └─ Data Collection Rules: 25
│  └─ DevTest Lab VMs: 16
│  └─ Monitor Alert Rules: 14
│  └─ Others: 32

🟡 P1 - HIGH PRIORITY (52.0%)
├─ Import Required: 67 ████████████████▌ 16.2%
├─ Key Vault Conflicts: 52 █████████████ 12.6%
├─ Storage Account Conflicts: 45 ███████████ 10.9%
├─ VNet Link Parent Missing: 22 █████▌ 5.3%
├─ Bastion NSG Compliance: 2 ▌ 0.5%
└─ Bastion Host Creation: 3 ▋ 0.7%

✅ FIXED (7.2%)
└─ Private Endpoint NIC Naming: 30 ███████▌ 7.2%

🟢 P2 - MEDIUM PRIORITY (4.7%)
├─ Location='global' Invalid: 2 ▌ 0.5%
└─ Other Low-Frequency: 15 ███▋ 3.6%
   └─ Workspace: 7
   └─ Server: 3
   └─ Namespace: 3
   └─ Misc: 2

================================================================================
IMPACT ANALYSIS
================================================================================

Blocking Resources by Error Type:
┌─────────────────────────────────┬───────┬──────────┬────────────┐
│ Error Category                  │ Count │ Priority │ Fixability │
├─────────────────────────────────┼───────┼──────────┼────────────┤
│ Cross-Tenant Auth               │  130  │   P0     │   MEDIUM   │
│ Import Required                 │   67  │   P1     │    HIGH    │
│ Key Vault Conflicts             │   52  │   P1     │    HIGH    │
│ Storage Account Conflicts       │   45  │   P1     │    HIGH    │
│ PE NIC Naming (FIXED)           │   30  │    -     │  COMPLETE  │
│ VNet Link Dependencies          │   22  │   P1     │    HIGH    │
│ VM/Monitor Auth Failures        │   37  │   P1     │   MEDIUM   │
│ Other Errors                    │   15  │   P2     │   MEDIUM   │
│ Location Issues                 │    2  │   P2     │    HIGH    │
│ Bastion NSG/Host                │    5  │   P1     │    HIGH    │
├─────────────────────────────────┼───────┼──────────┼────────────┤
│ TOTAL                           │  414  │    -     │     -      │
└─────────────────────────────────┴───────┴──────────┴────────────┘

================================================================================
RESOURCE CREATION PROGRESS
================================================================================

Current State:
[████████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░] 831/1,740 (47.7%)

After P0 Fixes (Cross-Tenant Filter):
[████████████████████████████░░░░░░░░░░░░░░░░░░░░░] 950/1,740 (54.6%)
                                +119 resources

After P1 Fixes (All High Priority):
[███████████████████████████████████████░░░░░░░░░░] 1,350/1,740 (77.6%)
                                        +519 resources

Target (>90% success):
[████████████████████████████████████████████████░] 1,566+/1,740 (90%+)
                                                +735 resources

================================================================================
TOP RECOMMENDATIONS
================================================================================

IMMEDIATE ACTIONS (This Week):
  1. ✓ Fix Private Endpoint NIC naming pattern ──────────── COMPLETE
  2. ⚡ Implement cross-tenant resource filter ───────────── 130 errors
  3. ⚡ Add Bastion NSG rule template ────────────────────── 5 errors
  4. ⚡ Map 'global' location to valid regions ───────────── 2 errors

SHORT-TERM ACTIONS (Next 2 Weeks):
  5. 🔧 Key Vault purge/rename automation ───────────────── 52 errors
  6. 🔧 Storage account unique naming ────────────────────── 45 errors
  7. 🔧 Resource import script for existing resources ───── 67 errors
  8. 🔧 VNet link dependency ordering ────────────────────── 22 errors

LONG-TERM IMPROVEMENTS:
  9. 📊 Pre-deployment validation and conflict detection
 10. 🔍 Dry-run mode with comprehensive error reporting
 11. 🔄 Automated error recovery and retry mechanisms

================================================================================
ERROR RATE PROJECTION
================================================================================

Week 1: 414 errors → ~284 errors (130 eliminated via P0 fixes)
         ███████████████████████████████████░░░░░░░░░░░░░ 68.6% remaining

Week 2: 284 errors → ~96 errors (188 eliminated via P1 fixes)
         ████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 23.2% remaining

Week 3: 96 errors → <50 errors (46+ eliminated via P2/optimization)
         ██████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ <12.1% remaining

TARGET: <3% error rate (<50 errors from 1,740 resources)

================================================================================
KEY INSIGHTS
================================================================================

✓ 30 errors already fixed (NIC naming) - 7.2% improvement available now
⚡ 137 errors can be eliminated quickly - 33.1% with P0 fixes
🎯 318 errors fixable with automation - 76.8% with P1 automation
📈 Expected 77.6% success rate after P0+P1 fixes (from 47.7%)

Most errors are systemic and can be addressed with code generation improvements
rather than manual Terraform fixes.

================================================================================
